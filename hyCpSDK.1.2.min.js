!function(){"use strict";function o(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(o){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},e=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable}))),e.forEach(function(n){var e,t,r;e=o,r=i[t=n],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return o}var a,c=function(n){return"object"==typeof n?null!==n:"function"==typeof n},E=function(n){if(!c(n))throw TypeError(n+" is not an object!");return n},p=function(n){if(null==n)throw TypeError("Can't call method on  "+n);return n},e=Math.ceil,t=Math.floor,F=function(n){return isNaN(n=+n)?0:(0<n?t:e)(n)},_=Math.min,C=(a=!0,function(n,e){var t,r,o=String(p(n)),i=F(e),c=o.length;return i<0||c<=i?a?"":void 0:(t=o.charCodeAt(i))<55296||56319<t||i+1===c||(r=o.charCodeAt(i+1))<56320||57343<r?a?o.charAt(i):t:a?o.slice(i,i+2):r-56320+(t-55296<<10)+65536}),r={}.toString,u=function(n){return r.call(n).slice(8,-1)};function n(n,e){return n(e={exports:{}},e.exports),e.exports}var l,s,g=n(function(n){var e=n.exports={version:"2.6.2"};"number"==typeof __e&&(__e=e)}),h=(g.version,n(function(n){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),f=n(function(n){var e="__core-js_shared__",t=h[e]||(h[e]={});(n.exports=function(n,e){return t[n]||(t[n]=void 0!==e?e:{})})("versions",[]).push({version:g.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),v=0,d=Math.random(),y=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++v+d).toString(36))},b=n(function(n){var e=f("wks"),t=h.Symbol,r="function"==typeof t;(n.exports=function(n){return e[n]||(e[n]=r&&t[n]||(r?t:y)("Symbol."+n))}).store=e}),S=b("toStringTag"),m="Arguments"==u(function(){return arguments}()),x=RegExp.prototype.exec,R=function(n,e){var t,r,o,i,c=n.exec;if("function"==typeof c){var a=c.call(n,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==(void 0===(t=n)?"Undefined":null===t?"Null":"string"==typeof(o=function(n,e){try{return n[e]}catch(n){}}(r=Object(t),S))?o:m?u(r):"Object"==(i=u(r))&&"function"==typeof r.callee?"Arguments":i))throw new TypeError("RegExp#exec called on incompatible receiver");return x.call(n,e)},w=RegExp.prototype.exec,k=String.prototype.replace,O=w,M="lastIndex",j=(l=/a/,s=/b*/g,w.call(l,"a"),w.call(s,"a"),0!==l[M]||0!==s[M]),P=void 0!==/()??/.exec("")[1];(j||P)&&(O=function(n){var e,t,r,o,i=this;return P&&(t=new RegExp("^"+i.source+"$(?!\\s)",function(){var n=E(this),e="";return n.global&&(e+="g"),n.ignoreCase&&(e+="i"),n.multiline&&(e+="m"),n.unicode&&(e+="u"),n.sticky&&(e+="y"),e}.call(i))),j&&(e=i[M]),r=w.call(i,n),j&&r&&(i[M]=i.global?r.index+r[0].length:e),P&&r&&1<r.length&&k.call(r[0],t,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var A=O,T=function(n){try{return!!n()}catch(n){return!0}},$=!T(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),D=h.document,I=c(D)&&c(D.createElement),N=!$&&!T(function(){return 7!=Object.defineProperty((n="div",I?D.createElement(n):{}),"a",{get:function(){return 7}}).a;var n}),B=Object.defineProperty,K={f:$?Object.defineProperty:function(n,e,t){if(E(n),e=function(n,e){if(!c(n))return n;var t,r;if(e&&"function"==typeof(t=n.toString)&&!c(r=t.call(n)))return r;if("function"==typeof(t=n.valueOf)&&!c(r=t.call(n)))return r;if(!e&&"function"==typeof(t=n.toString)&&!c(r=t.call(n)))return r;throw TypeError("Can't convert object to primitive value")}(e,!0),E(t),N)try{return B(n,e,t)}catch(n){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(n[e]=t.value),n}},U=$?function(n,e,t){return K.f(n,e,{enumerable:!((r=1)&r),configurable:!(2&r),writable:!(4&r),value:t});var r}:function(n,e,t){return n[e]=t,n},G={}.hasOwnProperty,J=function(n,e){return G.call(n,e)},z=n(function(n){var i=y("src"),e="toString",t=Function[e],c=(""+t).split(e);g.inspectSource=function(n){return t.call(n)},(n.exports=function(n,e,t,r){var o="function"==typeof t;o&&(J(t,"name")||U(t,"name",e)),n[e]!==t&&(o&&(J(t,i)||U(t,i,n[e]?""+n[e]:c.join(String(e)))),n===h?n[e]=t:r?n[e]?n[e]=t:U(n,e,t):(delete n[e],U(n,e,t)))})(Function.prototype,e,function(){return"function"==typeof this&&this[i]||t.call(this)})}),H=function(r,o,n){if(function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!")}(r),void 0===o)return r;switch(n){case 1:return function(n){return r.call(o,n)};case 2:return function(n,e){return r.call(o,n,e)};case 3:return function(n,e,t){return r.call(o,n,e,t)}}return function(){return r.apply(o,arguments)}},L="prototype",V=function(n,e,t){var r,o,i,c,a=n&V.F,u=n&V.G,l=n&V.S,s=n&V.P,f=n&V.B,p=u?h:l?h[e]||(h[e]={}):(h[e]||{})[L],v=u?g:g[e]||(g[e]={}),d=v[L]||(v[L]={});for(r in u&&(t=e),t)i=((o=!a&&p&&void 0!==p[r])?p:t)[r],c=f&&o?H(i,h):s&&"function"==typeof i?H(Function.call,i):i,p&&z(p,r,i,n&V.U),v[r]!=i&&U(v,r,c),s&&d[r]!=i&&(d[r]=i)};h.core=g,V.F=1,V.G=2,V.S=4,V.P=8,V.B=16,V.W=32,V.U=64,V.R=128,V({target:"RegExp",proto:!0,forced:A!==/./.exec},{exec:A});var W=b("species"),q=!T(function(){var n=/./;return n.exec=function(){var n=[];return n.groups={a:"7"},n},"7"!=="".replace(n,"$<a>")}),Q=function(){var n=/(?:)/,e=n.exec;n.exec=function(){return e.apply(this,arguments)};var t="ab".split(n);return 2===t.length&&"a"===t[0]&&"b"===t[1]}(),X=Math.max,Y=Math.min,Z=Math.floor,nn=/\$([$&`']|\d\d?|<[^>]*>)/g,en=/\$([$&`']|\d\d?)/g;!function(t,n,e){var r=b(t),i=!T(function(){var n={};return n[r]=function(){return 7},7!=""[t](n)}),o=i?!T(function(){var n=!1,e=/a/;return e.exec=function(){return n=!0,null},"split"===t&&(e.constructor={},e.constructor[W]=function(){return e}),e[r](""),!n}):void 0;if(!i||!o||"replace"===t&&!q||"split"===t&&!Q){var c=/./[r],a=e(p,r,""[t],function(n,e,t,r,o){return e.exec===A?i&&!o?{done:!0,value:c.call(e,t,r)}:{done:!0,value:n.call(t,e,r)}:{done:!1}}),u=a[0],l=a[1];z(String.prototype,t,u),U(RegExp.prototype,r,2==n?function(n,e){return l.call(n,this,e)}:function(n){return l.call(n,this)})}}("replace",2,function(o,i,O,M){return[function(n,e){var t=o(this),r=null==n?void 0:n[i];return void 0!==r?r.call(n,t,e):O.call(String(t),n,e)},function(n,e){var t=M(O,n,this,e);if(t.done)return t.value;var r=E(n),o=String(this),i="function"==typeof e;i||(e=String(e));var c=r.global;if(c){var a=r.unicode;r.lastIndex=0}for(var u,l,s,f=[];;){var p=R(r,o);if(null===p)break;if(f.push(p),!c)break;""===String(p[0])&&(r.lastIndex=(u=o,s=r.lastIndex,(l=0<s?_(F(s),9007199254740991):0)+(a?C(u,l).length:1)))}for(var v,d="",g=0,h=0;h<f.length;h++){p=f[h];for(var y=String(p[0]),b=X(Y(F(p.index),o.length),0),S=[],m=1;m<p.length;m++)S.push(void 0===(v=p[m])?v:String(v));var x=p.groups;if(i){var w=[y].concat(S,b,o);void 0!==x&&w.push(x);var k=String(e.apply(void 0,w))}else k=j(y,o,b,S,x,e);g<=b&&(d+=o.slice(g,b)+k,g=b+y.length)}return d+o.slice(g)}];function j(i,c,a,u,l,n){var s=a+i.length,f=u.length,e=en;return void 0!==l&&(l=Object(p(l)),e=nn),O.call(n,e,function(n,e){var t;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return c.slice(0,a);case"'":return c.slice(s);case"<":t=l[e.slice(1,-1)];break;default:var r=+e;if(0===r)return n;if(f<r){var o=Z(r/10);return 0===o?n:o<=f?void 0===u[o-1]?e.charAt(1):u[o-1]+e.charAt(1):n}t=u[r-1]}return void 0===t?"":t})}});var tn=null,rn=null,on=null,cn=null,an=null,un=null,ln=null,sn=null,fn=null,pn=null,vn=null,dn=null,gn=null;function hn(n){if(!rn||!tn)return console.log("通信连接失败, 可刷新页面重试"),!1;rn.postMessage(JSON.stringify(n),tn)}window.addEventListener("message",function(n){var e=n.origin,t=n.source,r=n.data;if(e.replace(/http\:\/\/|https\:\/\//gi,"")===tn.replace(/http\:\/\/|https\:\/\//gi,"")){tn=e;var o=JSON.parse(r||null);rn=t;var i=o.action||"init",c=o.datas;switch(console.log("".concat(i,": hySDK -> hyCpSDK successed")),i){case"getSMSCodeSuccess":pn&&pn();break;case"getSMSCodeFail":vn&&vn();break;case"bindMobileSuccess":dn&&dn();break;case"bindMobileFail":gn&&gn();break;case"logOut":fn&&fn();break;case"shareComplete":ln&&ln();break;case"update":sn&&sn(c);break;case"payFail":un&&un instanceof Function&&un();break;case"paySuccess":break;case"loginSuccess":an&&an(c);break;case"init":hn({action:"initSuccess",sdkOptions:on}),cn&&cn()}}},!1);var yn=function(){function e(n){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n&&(on={app_id:n.appId||0,app_version:n.appVersion||"",brand_desc:n.brandDesc||"",exp_days:n.expDays||365},n.origin?tn=n.origin:console.log("origin is need"),n.initSuccess&&n.initSuccess instanceof Function&&(cn=n.initSuccess),n.success&&n.success instanceof Function&&(an=n.success),n.shareComplete&&n.shareComplete instanceof Function&&(ln=n.shareComplete),n.update&&n.update instanceof Function&&(sn=n.update),n.logOut&&n.logOut instanceof Function&&(fn=n.logOut))}var n,t,r;return n=e,(t=[{key:"login",value:function(){hn({action:"login",datas:null})}},{key:"pay",value:function(n){!function(n){n&&n.fail&&(un=n.fail);var e={};if(n)for(var t in n)!n.hasOwnProperty(t)||n[t]instanceof Function||(e[t]=n[t]);hn({action:"pay",datas:e})}(n)}},{key:"csReport",value:function(n){hn({action:"csReport",datas:i({},n)})}},{key:"logReport",value:function(n){hn({action:"logReport",datas:i({},n)})}},{key:"roleReport",value:function(n){hn({action:"roleReport",datas:i({},n)})}},{key:"cpReport",value:function(n){hn({action:"cpReport",datas:i({},n)})}},{key:"logOut",value:function(){hn({action:"logOut"})}},{key:"blur",value:function(){hn({action:"blur",datas:null})}},{key:"update",value:function(){hn({action:"update",datas:i({},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})})}},{key:"getSMSCode",value:function(){var n,e,t,r,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{mobile:"",action:"bind_mobile "};return n=o.mobile,e=o.action,t=o.success,r=o.fail,t&&t instanceof Function&&(pn=t),r&&r instanceof Function&&(vn=r),void hn({action:"getSMSCode",datas:{mobile:n,action:e}})}},{key:"bindMobile",value:function(n){var e=n.mobile,t=n.code,r=n.success,o=n.fail;r&&r instanceof Function&&(dn=r),o&&o instanceof Function&&(gn=o),hn({action:"bindMobile",datas:{mobile:e,code:t}})}},{key:"openCPBindMobile",value:function(){hn({action:"openCPBindMobile"})}}])&&o(n.prototype,t),r&&o(n,r),e}();window.HyCpSDK=yn}();
